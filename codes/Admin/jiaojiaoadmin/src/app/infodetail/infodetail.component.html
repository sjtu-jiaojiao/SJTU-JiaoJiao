
<nz-card  *ngIf='info' nzTitle="交易信息管理">
    <div nz-row [nzGutter]="8">
      <div nz-col [nzSpan]="8">
        <nz-card nzTitle="交易状态">
        <nz-timeline nzMode="alternate">
                <nz-timeline-item>创建交易 2019-07-01</nz-timeline-item>
                <nz-timeline-item nzColor="green">预约 2019-07-02</nz-timeline-item>
                <nz-timeline-item [nzDot]="dotTemplate"
                  >取消预约 2019-07-03</nz-timeline-item
                >
                <nz-timeline-item nzColor="green">预约 2019-07-04</nz-timeline-item>
                <nz-timeline-item nzColor="green">完成交易 2019-07-05</nz-timeline-item>
                <nz-timeline-item nzColor="green">完成评价 2019-07-11</nz-timeline-item>
              </nz-timeline>
              <ng-template #dotTemplate>
                <i nz-icon nzType="clock-circle-o" style="font-size: 16px;"></i>
        </ng-template>
        </nz-card>
        <nz-card nzType="inner" nzTitle="交易简介">
          <div class='infoitem'>
                <span class="badge">交易ID</span>{{info.id}}
          </div>
          <div class='infoitem'>
                <span class="badge">交易类型</span>{{info.type? '买':'卖'}}
          </div>
          <div class='infoitem'>
            <span class="badge">交易发起人</span>{{info.source}}
        </div>
        <div class='infoitem'>
            <span class="badge">发起时间</span>{{info.time}}
        </div>
        <div class='infoitem'>
            <span class="badge">状态</span>
            <nz-select
            id='state'
              nzShowSearch 
              nzPlaceHolder="Select a state"
              [(ngModel)]="info.state"
            >
              <nz-option nzLabel="可预约" [nzValue]="0" ></nz-option>
              <nz-option nzLabel="预约中" [nzValue]="1"></nz-option>
              <nz-option nzLabel="已完成" [nzValue]="2"></nz-option>
              <nz-option nzLabel="待评价" [nzValue]="3"></nz-option>
              <nz-option nzLabel="强制结束" [nzValue]="4"></nz-option>
            </nz-select>
        </div>
        <div class='infoitem'>
              <span class="badge">交易价格</span>
              <nz-input-number
                [(ngModel)]="info.price"
                [nzMin]="0"
                [nzStep]="0.1"
                [nzPlaceHolder]="'价格'"
              ></nz-input-number>
        </div>
        <div class='infoitem'>
            <span class="badge">当前预约数</span>{{info.count}}
        </div></nz-card>
        <nz-card nzType="inner" nzTitle="交易简介">    
                <nz-select
                  nzMode="tags"
                  [nzTokenSeparators]="[',']"
                  [(ngModel)]="info.tags"
                  nzPlaceHolder="Tags">
                  <nz-option *ngFor="let option of info.tags" [nzLabel]="option" [nzValue]="option"> </nz-option>
                </nz-select>
          <textarea nz-input placeholder="intro" [(ngModel)]="info.intro" nzAutosize></textarea>
        </nz-card>
          <button (click)="goBack()" nz-button nzType="dashed"><i nz-icon type="left-circle" theme="outline"></i>返回</button>
          <button (click)="save()" nz-button nzType="primary"><i nz-icon type="save" theme="outline"></i>保存</button>
      </div>
      <div nz-col [nzSpan]="16">
        <nz-card nzType="inner" nzTitle="交易价格曲线">            
          <div echarts theme="dark" [loading]="true"  [options]="option"></div>
        </nz-card>
        <nz-card nzType="inner" nzTitle="流量转化">            
          <div echarts theme="dark" [loading]="true"  [options]="fnoption"></div>
        </nz-card>
      </div>
    </div>
</nz-card>